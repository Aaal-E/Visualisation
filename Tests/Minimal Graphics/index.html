<htmL>
    <head>
        <!--libraries-->
        <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
        
        <!--<script src="../Classes/Graphics/2d/.Compiled.js"></script>-->
        
        <script src="../../Libraries/pixi.min.js"></script>
        <script src="../../Libraries/pixiLayers.js"></script>
        <script src="../../Libraries/stats.js"></script>
        <script src="../../Libraries/RBush-3d.js"></script>
        
        <!--graphics interface-->
        <script src="2dGfxInterface.js"></script>
    </head>
    <body>
        
    </body>
    <script>
        var stats = new Stats();
        stats.showPanel(0); // 0: fps, 1: ms, 2: mb, 3+: custom
        document.body.appendChild(stats.domElement)
        
        function randomColor(){
            return (Math.floor(Math.random()*0x100)<<16)+
                    (Math.floor(Math.random()*0x100)<<8)+
                    Math.floor(Math.random()*0x100);
        }
        
        //the actual tests
    
        var graphics = new Graphics();
        
        /*simple stress test*/
        function stressTest(){
            //create shapes
            for(var i=0; i<50000; i++){
                // var shape = new Circle(10, randomColor());
                var shape = new Rectangle(20, 20, randomColor());
                shape.setX(Math.random()*300-150).setY(Math.random()*300-150);
                graphics.add(shape);
            }
            
            // update shapes and fps counter
            graphics.addTickListener(function(){
                stats.begin();
                // var shapes = this.getShapes();
                // for(var i=0; i<shapes.length; i++){
                //     var shape = shapes[i];
                //     shape.setX(shape.getX()+Math.random()*5-2.5).setY(shape.getY()+Math.random()*5-2.5).setZRot(shape.getZRot()+Math.random()*0.2-0.1);
                // }
                stats.end();
            });
        }
        
        
        stressTest();
    </script>
</htmL>